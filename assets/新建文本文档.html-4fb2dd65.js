import{_ as s,M as i,p as c,q as a,R as e,t as l,N as n,a1 as o}from"./framework-5866ffd3.js";const d={},r=e("h1",{id:"public和assets文件夹的区别",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#public和assets文件夹的区别","aria-hidden":"true"},"#"),l(" public和assets文件夹的区别")],-1),u=e("ul",null,[e("li",null,"assets中的资源，路径要经过webpack中的file-loader编译，不能直接写。"),e("li",null,[l("public中的资源，不会被webpack编译，而是会被直接复制到最终的打包目录中，且必须使用"),e("strong",null,"绝对路径"),l("来引用这些文件。")])],-1),p=e("blockquote",null,[e("p",null,[l("注： 1.public中的文件，是不会经过编译的，打包后会生成dist文件夹，public中的文件只是复制一遍。因此，public建议放一些外部第三方，自己的文件放在assets，别人的放public中。 2.若把图片放在assets和public中，html页面都可以使用，但是在动态绑定中，assets路径的图片会加载失败（因为webpack使用的是"),e("code",null,"commenJS"),l("规范，必须使用require才可以。")])],-1),_={id:"public-文件夹",tabindex:"-1"},h=e("a",{class:"header-anchor",href:"#public-文件夹","aria-hidden":"true"},"#",-1),b=e("code",null,"public",-1),m={href:"https://cli.vuejs.org/zh/guide/html-and-static-assets.html#public-%E6%96%87%E4%BB%B6%E5%A4%B9",target:"_blank",rel:"noopener noreferrer"},v=e("p",null,[l("任何放置在 "),e("code",null,"public"),l(" 文件夹的静态资源都会被简单的复制，而不经过 webpack。你需要通过绝对路径来引用它们。")],-1),g=e("p",null,"注意我们推荐将资源作为你的模块依赖图的一部分导入，这样它们会通过 webpack 的处理并获得如下好处：",-1),x=e("ul",null,[e("li",null,"脚本和样式表会被压缩且打包在一起，从而避免额外的网络请求。"),e("li",null,"文件丢失会直接在编译时报错，而不是到了用户端才产生 404 错误。"),e("li",null,"最终生成的文件名包含了内容哈希，因此你不必担心浏览器会缓存它们的老版本。")],-1),f=e("code",null,"public",-1),B=e("strong",null,"应急手段",-1),k={href:"https://cli.vuejs.org/zh/config/#publicpath",target:"_blank",rel:"noopener noreferrer"},E=o(`<ul><li><p>在 <code>public/index.html</code> 或其它通过 <code>html-webpack-plugin</code> 用作模板的 HTML 文件中，你需要通过 <code>&lt;%= BASE_URL %&gt;</code> 设置链接前缀：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;link rel=&quot;icon&quot; href=&quot;&lt;%= BASE_URL %&gt;favicon.ico&quot;&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>在模板中，你首先需要向你的组件传入基础 URL：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>data () {
  return {
    publicPath: p<wbr>rocess.env.BASE_URL
  }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;img :src=&quot;\`\${publicPath}my-image.png\`&quot;&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul>`,1),q={id:"何时使用-public-文件夹",tabindex:"-1"},w=e("a",{class:"header-anchor",href:"#何时使用-public-文件夹","aria-hidden":"true"},"#",-1),L=e("code",null,"public",-1),A={href:"https://cli.vuejs.org/zh/guide/html-and-static-assets.html#%E4%BD%95%E6%97%B6%E4%BD%BF%E7%94%A8-public-%E6%96%87%E4%BB%B6%E5%A4%B9",target:"_blank",rel:"noopener noreferrer"},R=e("ul",null,[e("li",null,"你需要在构建输出中指定一个文件的名字。"),e("li",null,"你有上千个图片，需要动态引用它们的路径。"),e("li",null,[l("有些库可能和 webpack 不兼容，这时你除了将其用一个独立的 "),e("code",null,"<script>"),l(" 标签引入没有别的选择。")])],-1);function N(S,U){const t=i("ExternalLinkIcon");return c(),a("div",null,[r,u,p,e("h3",_,[h,l(),b,l(" 文件夹"),e("a",m,[l("#"),n(t)])]),v,g,x,e("p",null,[f,l(" 目录提供的是一个"),B,l("，当你通过绝对路径引用它时，留意应用将会部署到哪里。如果你的应用没有部署在域名的根部，那么你需要为你的 URL 配置 "),e("a",k,[l("publicPath"),n(t)]),l(" 前缀：")]),E,e("h3",q,[w,l(" 何时使用 "),L,l(" 文件夹"),e("a",A,[l("#"),n(t)])]),R])}const j=s(d,[["render",N],["__file","新建文本文档.html.vue"]]);export{j as default};
